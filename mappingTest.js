const { Pool } = require("pg/lib");

let cumretObject = {
  '1622772000000': 1,
  '1622952000000': 1,
  '1623132000000': 0.9905663715,
  '1623312000000': 0.9931443683,
  '1623492000000': 1.0007798038,
  '1623672000000': 1.0113543448,
  '1623852000000': 1.0136079581,
  '1624032000000': 1.0098813975,
  '1624212000000': 1.0147525967,
  '1624392000000': 1.0162062086,
  '1624572000000': 1.017173336,
  '1624752000000': 1.0204252019,
  '1624932000000': 1.0322002518,
  '1625112000000': 1.0329184068,
  '1625292000000': 1.0262078168,
  '1625472000000': 1.0262078168,
  '1625652000000': 1.0240654413,
  '1625832000000': 1.0225439963,
  '1626012000000': 1.0240545193,
  '1626192000000': 1.0251718792,
  '1626372000000': 1.0272390258,
  '1626552000000': 1.0264641362,
  '1626732000000': 1.0252135789,
  '1626912000000': 1.0279568032,
  '1627092000000': 1.0279568032,
  '1627272000000': 1.0245997025,
  '1627452000000': 1.0228679239,
  '1627632000000': 1.0228679239,
  '1627812000000': 1.0235309299,
  '1627992000000': 1.0226409535,
  '1628172000000': 1.0205041686,
  '1628352000000': 1.0179680023,
  '1628532000000': 1.0179680023,
  '1628712000000': 1.0167491372,
  '1628892000000': 1.0121012936,
  '1629072000000': 1.0190850274,
  '1629252000000': 1.0183177708,
  '1629432000000': 1.015905891,
  '1629612000000': 1.015905891,
  '1629792000000': 1.0170221195,
  '1629972000000': 1.0158728217,
  '1630152000000': 1.0158728217,
  '1630332000000': 1.0126964343,
  '1630512000000': 1.0118803807,
  '1630692000000': 1.0113999113,
  '1630872000000': 1.0068952958,
  '1631052000000': 1.0052115397,
  '1631232000000': 1.0042655312,
  '1631412000000': 1.0032872361,
  '1631592000000': 1.0009161754,
  '1631772000000': 1.0004660182,
  '1631952000000': 1.002463654,
  '1632132000000': 1.0012265373,
  '1632312000000': 1.0010679477,
  '1632492000000': 0.9991235925,
  '1632672000000': 0.9982933644,
  '1632852000000': 0.9952937259,
  '1633032000000': 0.9933070494,
  '1633212000000': 0.9906577326,
  '1633392000000': 0.9883838253,
  '1633572000000': 0.9836963811,
  '1633752000000': 0.9815704525,
  '1633932000000': 0.9811400294,
  '1634112000000': 0.9797466425,
  '1634292000000': 0.9782877737,
  '1634472000000': 0.9782877737,
  '1634652000000': 0.9764388118,
  '1634832000000': 0.9720971703,
  '1635012000000': 0.9702466918,
  '1635192000000': 0.9683154101,
  '1635372000000': 0.9675450045,
  '1635552000000': 0.9659548955,
  '1635732000000': 0.9636455964,
  '1635912000000': 0.9619696419,
  '1636092000000': 0.9619696419,
  '1636272000000': 0.9619696419,
  '1636452000000': 0.9619696419,
  '1636632000000': 0.9584445486,
  '1636812000000': 0.9556688372,
  '1636992000000': 0.9516970509,
  '1637172000000': 0.9500355556,
  '1637352000000': 0.9500355556,
  '1637532000000': 0.9465154988,
  '1637712000000': 0.9449656515,
  '1637892000000': 0.9390582189,
  '1638072000000': 0.9382768185,
  '1638252000000': 0.9349765435,
  '1638432000000': 0.9325003175,
  '1638612000000': 0.9348197072,
  '1638792000000': 0.9338685422,
  '1638972000000': 0.9338685422,
  '1639152000000': 0.930267221,
  '1639332000000': 0.9281590523,
  '1639512000000': 0.9265004768,
  '1639692000000': 0.9237881307,
  '1639872000000': 0.9211601401,
  '1640052000000': 0.9203423455,
  '1640232000000': 0.9203423455,
  '1640412000000': 0.9160805071,
  '1640592000000': 0.9148169202,
  '1640772000000': 0.9129857482,
  '1640952000000': 0.9109028237,
  '1641132000000': 0.9072516123,
  '1641312000000': 0.9053467487,
  '1641492000000': 0.9011288234,
  '1641672000000': 0.9011288234,
  '1641852000000': 0.8987611959,
  '1642032000000': 0.8947813192
}

let cumretKeys = Object.keys(cumretObject);

// console.log(cumretKeys);

let cumretValues = Object.values(cumretObject);

// console.log(cumretValues);

let cumretArray = [];

let backtestID = 1;
// need to transform into array of arrays
// for (let i = 0; i < cumretKeys.length; i++) {
//   for (let j = 0; j < cumretValues.length; j++) {
//     let singleRow = [backtestID, cumretKeys[i], cumretValues[j]];
//     cumretArray.push(singleRow);
//   }
// }

let zipped = cumretKeys.map((x, i) => [backtestID, x, cumretValues[i]]);
console.log(zipped);
console.log(zipped.length);

console.log('printing cumretArray...')
console.log(cumretArray);

// var format = require('pg-format');

// var values = [
//   [7, 'john22', 'john22@gmail.com', '9999999922'], 
//   [6, 'testvk', 'testvk@gmail.com', '88888888888']
// ];
// client.query(format('INSERT INTO users (id, name, email, phone) VALUES %L', values),[], (err, result)=>{
//   console.log(err);
//   console.log(result);
// });